[{"/Users/mark/Documents/Projects/crypto-tracker/src/index.js":"1","/Users/mark/Documents/Projects/crypto-tracker/src/App.js":"2","/Users/mark/Documents/Projects/crypto-tracker/src/Coin.js":"3","/Users/mark/Documents/Projects/crypto-tracker/src/Sunbrust.js":"4","/Users/mark/Documents/Projects/crypto-tracker/src/MOCK-DATA.js":"5","/Users/mark/Documents/Projects/crypto-tracker/src/CRYPTO-DATA.js":"6","/Users/mark/Documents/Projects/crypto-tracker/src/STOCK-DATA.js":"7"},{"size":214,"mtime":1610870417096,"results":"8","hashOfConfig":"9"},{"size":1685,"mtime":1611026359373,"results":"10","hashOfConfig":"9"},{"size":1511,"mtime":1610992995226,"results":"11","hashOfConfig":"9"},{"size":6521,"mtime":1611119200920,"results":"12","hashOfConfig":"9"},{"size":13016,"mtime":1611021269930,"results":"13","hashOfConfig":"9"},{"size":97069,"mtime":1611111148949,"results":"14","hashOfConfig":"9"},{"size":173538,"mtime":1611111329884,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"11i8fxe",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/Users/mark/Documents/Projects/crypto-tracker/src/index.js",[],["33","34"],"/Users/mark/Documents/Projects/crypto-tracker/src/App.js",[],"/Users/mark/Documents/Projects/crypto-tracker/src/Coin.js",[],"/Users/mark/Documents/Projects/crypto-tracker/src/Sunbrust.js",["35","36","37","38"],"import React, { useRef, useState, useEffect } from 'react'\nimport * as d3 from 'd3'\nimport flare from './MOCK-DATA'\nimport cryptoData from './CRYPTO-DATA'\nimport { stock as stockData } from './STOCK-DATA'\n\nconst Sunbrust = () => {\n  const [data, setData] = useState(stockData)\n  const svgRef = useRef()\n\n  const width = 1000\n  // const height = 700\n  // const radius = Math.min(width, height) / 2\n\n  /*\n  reference: https://www.youtube.com/watch?v=Y-ThTzB-Zjk\n\n  svg has 3 selections: enter, update, exit\n  .join() api auto handles eneter, update, exit.remove() if not specified as callback params\n  useEffect(() => {\n    const svg = d3.select(svgRef.current)\n    svg\n      .selectAll('circle')\n      .data(data)\n      .join('circle')\n      .attr('r', (value) => value)\n      .attr('cx', (value) => value * 2)\n      .attr('cy', (value) => value * 2)\n      .attr('stroke', 'red')\n  }, [])\n  */\n\n  console.log(data)\n  const drawChart = () => {\n    const partition = (data) => {\n      const root = d3\n        .hierarchy(data)\n        .sum((d) => d.price_change_24hr)\n        .sort((a, b) => b.value - a.value)\n      return d3.partition().size([2 * Math.PI, root.height + 1])(root)\n    }\n\n    const color = d3.scaleOrdinal(\n      d3.quantize(d3.interpolateRainbow, data.children.length)\n    )\n\n    const format = d3.format(',d')\n\n    const radius = width / 6\n\n    const arc = d3\n      .arc()\n      .startAngle((d) => d.x0)\n      .endAngle((d) => d.x1)\n      .padAngle((d) => Math.min((d.x1 - d.x0) / 2, 0.005))\n      .padRadius(radius * 1.5)\n      .innerRadius((d) => d.y0 * radius)\n      .outerRadius((d) => Math.max(d.y0 * radius, d.y1 * radius - 1))\n\n    // above are functions required first\n\n    const root = partition(data)\n    root.each((d) => (d.current = d))\n\n    const svg = d3.select(svgRef.current)\n    svg.attr('viewBox', [0, 0, width, width]).style('font', '10px sans-serif')\n\n    const g = svg\n      .append('g')\n      .attr('transform', `translate(${width / 2},${width / 2})`)\n\n    const path = g\n      .append('g')\n      .selectAll('path')\n      .data(root.descendants().slice(1))\n      .join('path')\n      .attr('fill', (d) => {\n        while (d.depth > 1) d = d.parent\n        return color(d.data.name)\n      })\n      .attr('fill-opacity', (d) =>\n        arcVisible(d.current) ? (d.children ? 0.6 : 0.4) : 0\n      )\n      .attr('d', (d) => arc(d.current))\n\n    path\n      .filter((d) => d.children)\n      .style('cursor', 'pointer')\n      .on('click', clicked)\n\n    path.append('title').text(\n      (d) =>\n        `${d\n          .ancestors()\n          .map((d) => d.data.name)\n          .reverse()\n          .join('/')}\\n${format(d.value)}`\n    )\n\n    const label = g\n      .append('g')\n      .attr('pointer-events', 'none')\n      .attr('text-anchor', 'middle')\n      .style('user-select', 'none')\n      .selectAll('text')\n      .data(root.descendants().slice(1))\n      .join('text')\n      .attr('dy', '0.35em')\n      .attr('fill-opacity', (d) => +labelVisible(d.current))\n      .attr('transform', (d) => labelTransform(d.current))\n      .text((d) => d.data.name)\n\n    const parent = g\n      .append('circle')\n      .datum(root)\n      .attr('r', radius)\n      .attr('fill', 'none')\n      .attr('pointer-events', 'all')\n      .on('click', clicked)\n\n    function clicked(event, p) {\n      parent.datum(p.parent || root)\n\n      root.each(\n        (d) =>\n          (d.target = {\n            x0:\n              Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) *\n              2 *\n              Math.PI,\n            x1:\n              Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) *\n              2 *\n              Math.PI,\n            y0: Math.max(0, d.y0 - p.depth),\n            y1: Math.max(0, d.y1 - p.depth),\n          })\n      )\n\n      const t = g.transition().duration(750)\n\n      // Transition the data on all arcs, even the ones that arenâ€™t visible,\n      // so that if this transition is interrupted, entering arcs will start\n      // the next transition from the desired position.\n      path\n        .transition(t)\n        .tween('data', (d) => {\n          const i = d3.interpolate(d.current, d.target)\n          return (t) => (d.current = i(t))\n        })\n        .filter(function (d) {\n          return +this.getAttribute('fill-opacity') || arcVisible(d.target)\n        })\n        .attr('fill-opacity', (d) =>\n          arcVisible(d.target) ? (d.children ? 0.6 : 0.4) : 0\n        )\n        .attrTween('d', (d) => () => arc(d.current))\n\n      label\n        .filter(function (d) {\n          return +this.getAttribute('fill-opacity') || labelVisible(d.target)\n        })\n        .transition(t)\n        .attr('fill-opacity', (d) => +labelVisible(d.target))\n        .attrTween('transform', (d) => () => labelTransform(d.current))\n    }\n\n    function arcVisible(d) {\n      return d.y1 <= 3 && d.y0 >= 1 && d.x1 > d.x0\n    }\n\n    function labelVisible(d) {\n      return d.y1 <= 3 && d.y0 >= 1 && (d.y1 - d.y0) * (d.x1 - d.x0) > 0.03\n    }\n\n    function labelTransform(d) {\n      const x = (((d.x0 + d.x1) / 2) * 180) / Math.PI\n      const y = ((d.y0 + d.y1) / 2) * radius\n      return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`\n    }\n  }\n\n  useEffect(() => {\n    drawChart()\n  }, [])\n\n  /*\n\n  useEffect(() => {\n    const g = d3\n      .select(svgRef.current)\n      .attr('width', width)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\n\n    const partition = d3.partition().size([2 * Math.PI, radius])\n\n    const root = d3.hierarchy(cryptoData).sum((d) => d.market_cap)\n\n    console.log(root)\n\n    partition(root)\n\n    const arc = d3\n      .arc()\n      .startAngle((d) => d.x0)\n      .endAngle((d) => d.x1)\n      .innerRadius((d) => d.y0)\n      .outerRadius((d) => d.y1)\n\n    console.log(root)\n    console.log(root.descendants().slice(1))\n    g.selectAll('path') // <-- 1\n      .data(partition.nodes(root).filter((d) => d.depth === 0)) // <-- 2\n      .enter() // <-- 3\n      .append('path') // <-- 4\n      .attr('display', function (d) {\n        return d.depth ? null : 'none'\n      }) // <-- 5\n      .attr('d', arc) // <-- 6\n      .style('stroke', '#fff') // <-- 7\n      .style('fill', function (d) {\n        return color((d.children ? d : d.parent).data.name)\n      })\n      .append('title')\n      .text((d) => d.name)\n  }, [data])\n\n  */\n\n  return (\n    <div id='chart' style={{ height: '900px', width: '900px' }}>\n      <svg ref={svgRef}></svg>\n    </div>\n  )\n}\n\nexport default Sunbrust\n","/Users/mark/Documents/Projects/crypto-tracker/src/MOCK-DATA.js",[],"/Users/mark/Documents/Projects/crypto-tracker/src/CRYPTO-DATA.js",[],"/Users/mark/Documents/Projects/crypto-tracker/src/STOCK-DATA.js",[],["39","40"],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":3,"column":8,"nodeType":"47","messageId":"48","endLine":3,"endColumn":13},{"ruleId":"45","severity":1,"message":"49","line":4,"column":8,"nodeType":"47","messageId":"48","endLine":4,"endColumn":18},{"ruleId":"45","severity":1,"message":"50","line":8,"column":16,"nodeType":"47","messageId":"48","endLine":8,"endColumn":23},{"ruleId":"51","severity":1,"message":"52","line":185,"column":6,"nodeType":"53","endLine":185,"endColumn":8,"suggestions":"54"},{"ruleId":"41","replacedBy":"55"},{"ruleId":"43","replacedBy":"56"},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'flare' is defined but never used.","Identifier","unusedVar","'cryptoData' is defined but never used.","'setData' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'drawChart'. Either include it or remove the dependency array.","ArrayExpression",["59"],["57"],["58"],"no-global-assign","no-unsafe-negation",{"desc":"60","fix":"61"},"Update the dependencies array to be: [drawChart]",{"range":"62","text":"63"},[5234,5236],"[drawChart]"]